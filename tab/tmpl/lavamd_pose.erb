\begin{tabular}{@{}<%= 'c'*data.headers.length -%>@{}} \toprule
<%= data.headers.join(' & ') %> \\
\midrule
<% data.each do |row| -%>
  <%= row.collect{|k, v| Integer(v) rescue sprintf('%.2f', v) rescue v}.join(' & ') %> \\
<% end -%>
\bottomrule
\end{tabular}
